<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Descargar CubanCrypto Tracker</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
    <div class="container">
        <!-- Encabezado -->
        <header class="header">
            <h1>CubanCrypto Tracker</h1>
            <p class="subtitle">La mejor herramienta para rastrear criptomonedas en Cuba.</p>
            <p class="version">Versión BETA v0.2 2025</p>
        </header>

        <!-- Contenido principal -->
        <main class="main-content">
            <!-- Sección de actualización -->
            <div class="update-section">
                <h2>Últimas Actualizaciones</h2>
                <div id="update-info">
                    <p>Cargando información de actualización...</p>
                </div>
            </div>

            <div class="download-section">
                <h2>Descarga la aplicación</h2>
                <p class="description">
                    Esta es una versión beta solo para pruebas. Haz clic en el botón para descargar la APK:
                </p>
                <div class="preview-image">
                    <img src="01.png" alt="Vista previa de la APK">
                </div>
                <a href="https://josevdr95new.github.io/CubanCryptoTracker-JS/CubanCrypto_Tracker.apk" download class="download-link">
                    <i class="fas fa-download"></i> Descargar APK (4.15MB) - BETA v0.2
                </a>
            </div>

            <!-- Verificación de seguridad -->
            <div class="hash-info">
                <h3>Verificación de seguridad</h3>
                <p>MD5: <code>5fbb46f652cb5840c33fe5577991cae0</code></p>
                <p>SHA256: <code>dca3dae78c34870bf12f995c785c095cb38ac5289fa4683d15d9a1b7a1bca96e</code></p>
            </div>

            <!-- Información de contacto -->
            <div class="contact-info">
                <h3>¿Preguntas o problemas?</h3>
                <p>Contáctanos:</p>
                <a href="mailto:josevdr95@gmail.com" class="contact-link">
                    <i class="fas fa-envelope"></i> josevdr95@gmail.com
                </a>
            </div>
        </main>
    </div>

    <script>
        // Función para cargar los datos del JSON
        function loadUpdateInfo() {
            const updateInfoElement = document.getElementById('update-info');
            const url = 'https://josevdr95new.github.io/CubanCryptoTracker-JS/msgserver.json';

            fetch(url)
                .then(response => response.json())
                .then(data => {
                    // Limpiar el contenido actual
                    updateInfoElement.innerHTML = '';

                    // Iterar sobre todos los mensajes del JSON
                    data.forEach((update, index) => {
                        const updateDiv = document.createElement('div');
                        updateDiv.classList.add('update-item');
                        updateDiv.innerHTML = `
                            <p><strong>Fecha:</strong> ${update.fecha}</p>
                            <p><strong>Descripción:</strong> ${update.descripcion}</p>
                            ${update.enlace ? `<p><strong>Enlace:</strong> <a href="${update.enlace}" target="_blank">${update.enlace}</a></p>` : ''}
                            ${index < data.length - 1 ? '<hr>' : ''} <!-- Separador entre mensajes -->
                        `;
                        updateInfoElement.appendChild(updateDiv);
                    });
                })
                .catch(error => {
                    updateInfoElement.innerHTML = `<p>Error al cargar la información de actualización.</p>`;
                    console.error('Error:', error);
                });
        }

        // Cargar la información al cargar la página
        document.addEventListener('DOMContentLoaded', loadUpdateInfo);
    </script>
</body>
</html>